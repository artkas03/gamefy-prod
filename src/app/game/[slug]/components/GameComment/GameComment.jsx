'use client';
import { Avatar, Button } from '@nextui-org/react';
import React, { useState } from 'react';


// import axiosInstance from '@/utils/scripts/api';

export const GameComment = ({
  nickname = '',
  commentText = '',
  likeQuantity = 0,
  mark = 0,
  isLiked = false,
  commentId,
}) => {
  const [currentLikes, setCurrentLikes] = useState(likeQuantity);
  const arrayFilled = new Array(mark).fill(0);
  const arrayEmpty = new Array(5 - mark).fill(0);

  // const handleLike = (e) => {
  //   axiosInstance.patch('/comments/likeComment', {
  //     commentId
  //   })
  //     .then((response) => setCurrentLikes(response.data.response.likesNumber))
  //     .catch((err) => console.error(err));
  // }

  const handleLike = () => {};

  return (
    <div className="comment">
      <div className="comment__avatart">
        <Avatar showFallback src='https://images.unsplash.com/broken' />
      </div>

      <div className="comment__content">
        <h4 className="comment__nickname">{nickname}</h4>

        {/* <div className="comment__mark">
          {arrayFilled.map((_, i) => (
            <svg
              key={i}
              xmlns="http://www.w3.org/2000/svg"
              width="12"
              height="12"
              viewBox="0 0 12 12"
              fill="none">
              <g clipPath="url(#clip0_204_11954)">
                <path
                  d="M0.663474 6.20022L2.44347 7.50022L1.76747 9.59372C1.65823 9.91842 1.65685 10.2697 1.76353 10.5953C1.87021 10.9208 2.07925 11.2032 2.35947 11.4002C2.6349 11.6036 2.96867 11.7126 3.31105 11.7109C3.65343 11.7091 3.9861 11.5969 4.25947 11.3907L5.99997 10.1097L7.74098 11.3892C8.0159 11.5914 8.34787 11.7013 8.68916 11.703C9.03045 11.7046 9.36347 11.598 9.64036 11.3985C9.91724 11.1989 10.1237 10.9167 10.2301 10.5925C10.3365 10.2682 10.3373 9.91851 10.2325 9.59372L9.55648 7.50022L11.3365 6.20022C11.611 5.99948 11.8152 5.7171 11.9196 5.39342C12.0241 5.06974 12.0237 4.72131 11.9183 4.39792C11.813 4.07452 11.6081 3.79268 11.333 3.59267C11.0579 3.39266 10.7266 3.28471 10.3865 3.28422H8.19998L7.53648 1.21622C7.43214 0.8907 7.22711 0.606728 6.95096 0.405254C6.67481 0.20378 6.34181 0.0952148 5.99997 0.0952148C5.65814 0.0952148 5.32514 0.20378 5.04899 0.405254C4.77284 0.606728 4.56781 0.8907 4.46347 1.21622L3.79997 3.28422H1.61547C1.27535 3.28471 0.94407 3.39266 0.668964 3.59267C0.393858 3.79268 0.188995 4.07452 0.0836351 4.39792C-0.0217246 4.72131 -0.0221909 5.06974 0.0823027 5.39342C0.186796 5.7171 0.390905 5.99948 0.665474 6.20022H0.663474Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_204_11954">
                  <rect width="12" height="12" fill="white" />
                </clipPath>
              </defs>
            </svg>
          ))}

          {arrayEmpty.map((_, i) => (
            <svg
              key={arrayFilled.length + i}
              xmlns="http://www.w3.org/2000/svg"
              width="12"
              height="12"
              viewBox="0 0 12 12"
              fill="none">
              <g clipPath="url(#clip0_204_11958)">
                <path
                  d="M11.9179 4.39722C11.8156 4.07167 11.6112 3.78768 11.3351 3.58724C11.0589 3.3868 10.7256 3.28056 10.3844 3.28422H8.19985L7.53635 1.21622C7.43201 0.8907 7.22699 0.606728 6.95084 0.405254C6.67469 0.20378 6.34169 0.0952148 5.99985 0.0952148C5.65802 0.0952148 5.32502 0.20378 5.04887 0.405254C4.77272 0.606728 4.56769 0.8907 4.46335 1.21622L3.79985 3.28422H1.61535C1.27522 3.28471 0.943948 3.39266 0.668842 3.59267C0.393736 3.79268 0.188873 4.07452 0.083513 4.39792C-0.0218467 4.72131 -0.022313 5.06974 0.0821806 5.39342C0.186674 5.7171 0.390783 5.99948 0.665352 6.20022L2.44335 7.50022L1.76735 9.59372C1.65811 9.91842 1.65672 10.2697 1.76341 10.5953C1.87009 10.9208 2.07913 11.2032 2.35935 11.4002C2.63478 11.6036 2.96855 11.7126 3.31093 11.7109C3.65331 11.7091 3.98597 11.5969 4.25935 11.3907L5.99985 10.1097L7.74085 11.3892C8.01578 11.5914 8.34775 11.7013 8.68904 11.703C9.03032 11.7046 9.36335 11.598 9.64023 11.3985C9.91712 11.1989 10.1236 10.9167 10.23 10.5925C10.3364 10.2682 10.3372 9.91851 10.2324 9.59372L9.55635 7.50022L11.3364 6.20022C11.6141 6.002 11.8206 5.71962 11.9253 5.39489C12.03 5.07017 12.0274 4.72035 11.9179 4.39722ZM10.7464 5.39272L8.67435 6.90722C8.58925 6.96931 8.52592 7.05668 8.49342 7.15689C8.46092 7.25709 8.46089 7.365 8.49335 7.46522L9.28085 9.90022C9.3207 10.0237 9.32036 10.1567 9.27988 10.28C9.2394 10.4033 9.16087 10.5106 9.05557 10.5864C8.95027 10.6623 8.82363 10.7028 8.69386 10.7021C8.56409 10.7014 8.43787 10.6596 8.33335 10.5827L6.29585 9.08272C6.21003 9.01969 6.10633 8.98569 5.99985 8.98569C5.89337 8.98569 5.78967 9.01969 5.70385 9.08272L3.66635 10.5827C3.56189 10.6607 3.43532 10.7033 3.30498 10.7045C3.17465 10.7057 3.04732 10.6653 2.94147 10.5893C2.83561 10.5132 2.75673 10.4055 2.71625 10.2816C2.67577 10.1577 2.67581 10.0241 2.71635 9.90022L3.50635 7.46522C3.53881 7.365 3.53879 7.25709 3.50628 7.15689C3.47378 7.05668 3.41046 6.96931 3.32535 6.90722L1.25335 5.39272C1.149 5.31632 1.07147 5.2089 1.03182 5.08579C0.992177 4.96269 0.992447 4.83021 1.03259 4.70727C1.07274 4.58433 1.15071 4.47722 1.25537 4.40125C1.36003 4.32527 1.48602 4.28431 1.61535 4.28422H4.16535C4.27121 4.28422 4.37434 4.25062 4.45988 4.18826C4.54542 4.1259 4.60896 4.038 4.64135 3.93722L5.41635 1.52172C5.45613 1.39811 5.53411 1.29032 5.63905 1.21385C5.744 1.13737 5.8705 1.09617 6.00035 1.09617C6.1302 1.09617 6.25671 1.13737 6.36165 1.21385C6.4666 1.29032 6.54457 1.39811 6.58435 1.52172L7.35935 3.93722C7.39174 4.038 7.45529 4.1259 7.54083 4.18826C7.62637 4.25062 7.72949 4.28422 7.83535 4.28422H10.3854C10.5147 4.28431 10.6407 4.32527 10.7453 4.40125C10.85 4.47722 10.928 4.58433 10.9681 4.70727C11.0083 4.83021 11.0085 4.96269 10.9689 5.08579C10.9292 5.2089 10.8517 5.31632 10.7474 5.39272H10.7464Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_204_11958">
                  <rect width="12" height="12" fill="white" />
                </clipPath>
              </defs>
            </svg>
          ))}
        </div> */}

        <div className="comment__text">
          {commentText}
        </div>

        <div className="comment__likes">
          <Button onClick={handleLike} className="comment__like-button" isIconOnly disableRipple>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="F04438"
              xmlns="http://www.w3.org/2000/svg">
              <g clipPath="url(#clip0_204_11962)">
                <path
                  d="M17.5 1.9165C16.3739 1.93402 15.2724 2.24836 14.3067 2.82778C13.341 3.40719 12.5453 4.23117 12 5.2165C11.4546 4.23117 10.6589 3.40719 9.6932 2.82778C8.7275 2.24836 7.62601 1.93402 6.49996 1.9165C4.7049 1.99449 3.01366 2.77976 1.79574 4.10074C0.577818 5.42171 -0.0677922 7.17103 -4.17093e-05 8.9665C-4.17093e-05 13.5135 4.78596 18.4795 8.79996 21.8465C9.69618 22.5996 10.8293 23.0125 12 23.0125C13.1706 23.0125 14.3037 22.5996 15.2 21.8465C19.214 18.4795 24 13.5135 24 8.9665C24.0677 7.17103 23.4221 5.42171 22.2042 4.10074C20.9863 2.77976 19.295 1.99449 17.5 1.9165ZM13.915 20.3165C13.3789 20.7679 12.7007 21.0154 12 21.0154C11.2992 21.0154 10.621 20.7679 10.085 20.3165C4.94696 16.0055 1.99996 11.8695 1.99996 8.9665C1.9316 7.70122 2.36632 6.46023 3.20932 5.5142C4.05232 4.56817 5.23519 3.99385 6.49996 3.9165C7.76472 3.99385 8.9476 4.56817 9.7906 5.5142C10.6336 6.46023 11.0683 7.70122 11 8.9665C11 9.23172 11.1053 9.48607 11.2929 9.67361C11.4804 9.86115 11.7347 9.9665 12 9.9665C12.2652 9.9665 12.5195 9.86115 12.7071 9.67361C12.8946 9.48607 13 9.23172 13 8.9665C12.9316 7.70122 13.3663 6.46023 14.2093 5.5142C15.0523 4.56817 16.2352 3.99385 17.5 3.9165C18.7647 3.99385 19.9476 4.56817 20.7906 5.5142C21.6336 6.46023 22.0683 7.70122 22 8.9665C22 11.8695 19.053 16.0055 13.915 20.3125V20.3165Z"
                  fill={isLiked ? '#F04438' : 'white'}
                />
              </g>
              <defs>
                <clipPath id="clip0_204_11962">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </Button>
          {currentLikes}
        </div>
      </div>
    </div>
  );
};
